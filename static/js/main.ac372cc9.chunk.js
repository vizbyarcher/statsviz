(this.webpackJsonpstatsviz=this.webpackJsonpstatsviz||[]).push([[0],{69:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var c,a=n(0),o=n.n(a),l=n(11),r=n.n(l),s=(n(69),n(25)),u=n(16),i=n(56),d=n(44),b=n(117),j=n(118),O=(n(70),n(38)),p=n(45),h=n(46),f=n(9),g=Object(h.a)(c||(c=Object(d.a)(["\n  table {\n  width: 100%;\n  border: 1px solid black;\n  border-collapse: collapse;\n  th,\n  td {\n    border: 1px solid black;\n    border-collapse: collapse;\n  }\n  th,\n  td,\n  tr {\n    padding: 5px;\n  }\n  th {\n    text-align: left;\n  }\n  }\n"]))),v="https://raw.githubusercontent.com/vizbyarcher/statsviz/gh-pages/data/es/euro_meta.json",x=[],y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(console.log("reducer:",e),t.type){case"update":var n=Object(i.a)(e);return console.log("previous state:",n),n[t.payload.index]=t.payload.newValue,console.log("updated state:",n),n;case"reset":return new Array(t.payload.length).fill(null);default:throw new Error}},m=o.a.createContext(),S=function(e){var t=e.codeParams,n=e.code,c=Object(a.useState)(null),o=Object(u.a)(c,2),l=o[0],r=o[1],i=Object(a.useState)(null),d=Object(u.a)(i,2),h=(d[0],d[1]);console.log("ComboSelect is rendered...",t.length);var v=Object(a.useContext)(m);console.log("state in ComboSelect:",v.state);var x=null,y=null,S=null;if(v.state.length>0&&!v.state.includes(null)){console.log("every param selected!"),x={},console.log("codeParams:",t),t.forEach((function(e,t){var n=e.p;x[n]=v.state[t]})),console.log("params:",x);y=Object.entries(x).reduce((function(e,t){return e+"&"+t[0]+"="+t[1]}),""),S="http://ec.europa.eu/eurostat/wdds/rest/data/v2.1/json/en/".concat(n,"?").concat(y.slice(1),"&precision=1"),console.log("link",S)}Object(a.useEffect)((function(){S?fetch(S).then((function(e){return e.json()})).then((function(e){var t=Object(O.a)(e).toTable({type:"arrobj"});return console.log("testing:",t),h(t),e})).then((function(e){return p.a(Object(O.a)(e))})).then((function(e){r(e)})):(h(null),r(null))}),[S]);var w=function(){return Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:l}})};return Object(f.jsxs)("div",{children:[t.map((function(e,t){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("div",{children:[e.d.l,":"]}),Object(f.jsx)("br",{}),Object(f.jsx)(j.a,{id:String(t),debug:!0,options:e.d.v,getOptionLabel:function(e){return e},value:v.state[t],style:{width:380},onChange:function(e,n){console.log("value: ".concat(n)),n?v.dispatch({type:"update",payload:{index:t,newValue:n}}):v.dispatch({type:"update",payload:{index:t,newValue:null}})},renderInput:function(t){return Object(f.jsx)(b.a,Object(s.a)(Object(s.a)({},t),{},{label:e.p,variant:"outlined",fullWidth:!0}))}},String(t)),Object(f.jsx)("br",{})]},"index-"+String(t))})),Object(f.jsx)("br",{}),x&&Object(f.jsx)("div",{children:S}),Object(f.jsx)("br",{}),Object(f.jsx)(g,{}),S&&Object(f.jsx)(w,{})]})};function w(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),l=Object(u.a)(o,2),r=l[0],i=l[1],d=Object(a.useState)([]),O=Object(u.a)(d,2),p=O[0],h=O[1],g=Object(a.useState)(null),w=Object(u.a)(g,2),E=w[0],C=w[1],k=Object(a.useState)(null),P=Object(u.a)(k,2),z=(P[0],P[1]),I=Object(a.useState)(null),A=Object(u.a)(I,2),L=A[0],V=A[1],_=Object(a.useReducer)(y,x),J=Object(u.a)(_,2),M=J[0],T=J[1];return console.log("App is rendered..."),Object(a.useEffect)((function(){fetch(v).then((function(e){return e.json()})).then((function(e){i(e),h(e.map((function(e){return e.id})))}))}),[]),Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(m.Provider,{value:{state:M,dispatch:T},children:[Object(f.jsx)("h1",{children:"Eurostat"}),p&&Object(f.jsx)(j.a,{id:"combo-box-first",options:p,getOptionLabel:function(e){return e},value:n,style:{width:380},onChange:function(e,t){if(t){C(t),c(t);var n=r.filter((function(e){return e.id===t}))[0].f;z(n),V(n),console.log("codeParams:",L),T({type:"reset",payload:{length:n.length}}),console.log("state:",M)}else C(null),c(null),z(null),V([]),T({type:"reset",payload:{length:0}}),console.log("state:",M)},renderInput:function(e){return Object(f.jsx)(b.a,Object(s.a)(Object(s.a)({},e),{},{label:"Select Eurostat indicator:",variant:"outlined",fullWidth:!0}))}}),Object(f.jsx)("br",{}),Object(f.jsx)("br",{}),L&&Object(f.jsx)(S,{codeParams:L,code:E,state:M})]})})}r.a.render(Object(f.jsx)(o.a.StrictMode,{children:Object(f.jsx)(w,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ac372cc9.chunk.js.map