{"version":3,"sources":["App.js","index.js"],"names":["json","value","label","cat","App","useState","valueFirst","setValueFirst","valueSecond","setValueSecond","items","setItems","itemsFirst","setItemsFirst","itemsSecond","setItemsSecond","useEffect","EuroJSONstat","then","ds","statusId","Data","geo","time","sex","age","unit","status","statusLabel","console","log","data","Set","sort","a","b","map","item","filteredFirst","filter","changeSecond","className","Autocomplete","id","options","getOptionLabel","option","style","width","onChange","event","renderInput","params","TextField","variant","fullWidth","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"4NAgEMA,EAAO,CACZ,CAAEC,MAAO,EAAGC,MAAO,OAAQC,IAAK,SAChC,CAAEF,MAAO,EAAGC,MAAO,OAAQC,IAAK,SAChC,CAAEF,MAAO,EAAGC,MAAO,UAAWC,IAAK,SACnC,CAAEF,MAAO,EAAGC,MAAO,UAAWC,IAAK,SACnC,CAAEF,MAAO,EAAGC,MAAO,UAAWC,IAAK,UAwCrB,SAASC,IAAO,IAAD,EACOC,mBAAS,MADhB,mBACtBC,EADsB,KACVC,EADU,OAESF,mBAAS,MAFlB,mBAEtBG,EAFsB,KAETC,EAFS,OAGHJ,mBAAS,IAHN,mBAGtBK,EAHsB,KAGfC,EAHe,OAIHN,mBAAS,IAJN,gCAKOA,mBAAS,KALhB,mBAKtBO,EALsB,KAKVC,EALU,OAMSR,mBAAS,IANlB,mBAMtBS,EANsB,KAMTC,EANS,KAQ7BC,qBAAU,WACTC,IAA0B,YAAYC,MAAK,SAAAC,GAC1C,IAAMC,EAAWD,EAAGE,KAAK,CACvBC,IAAK,KACLC,KAAM,OACNC,IAAK,IACLC,IAAK,QACLC,KAAM,WACJC,OACHC,EAAcX,IAA4BE,EAAIC,GAC/CS,QAAQC,IAAR,WAAgBV,EAAhB,gBAAgCQ,EAAhC,WAEC,IAEHZ,qBAAU,WACLhB,GACHW,EAASX,KAKR,IAEHgB,qBAAU,WAjES,IAAAe,EAkEdrB,EACHG,GAnEiBkB,EAmESrB,GAhEf,YACR,IAAIsB,IACND,EACEE,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAC,IAAkBD,EAAC,OACnCE,KAAI,SAAAC,GAAI,OAAIA,EAAI,SAINJ,OAGP,IAwDNJ,QAAQC,IAAI,4BAEX,CAACpB,IAEJM,qBAAU,WAERD,EADGL,EAzDe,SAACqB,EAAMzB,GAC3B,GAAIA,EAAY,CAEf,IAAMgC,EAAgBP,EAAKQ,QAC1B,SAAAF,GAAI,OAAIA,EAAI,MAAoB/B,KAIjC,OAFY,YAAO,IAAI0B,IAAIM,EAAcF,KAAI,SAAAC,GAAI,OAAIA,EAAI,WAE3CJ,OAId,OAFY,YAAO,IAAID,IAAID,EAAKK,KAAI,SAAAC,GAAI,OAAIA,EAAI,WAElCJ,OA8CEO,CAAa9B,EAAOJ,GAEpB,MAEd,CAACI,EAAOJ,IAYX,OARIE,EACQE,EACT6B,QAAO,SAAAF,GAAI,OAAIA,EAAI,MAAoB/B,KACvCiC,QAAO,SAAAF,GAAI,OAAIA,EAAI,QAAqB7B,KAChCF,GACCI,EAAM6B,QAAO,SAAAF,GAAI,OAAIA,EAAI,MAAoB/B,KAIxD,sBAAKmC,UAAU,MAAf,UACC,8CAEC/B,GACA,cAACgC,EAAA,EAAD,CACCC,GAAG,kBACHC,QAAShC,EACTiC,eAAgB,SAAAC,GAAM,OAAIA,GAC1B7C,MAAOK,EACPyC,MAAO,CAAEC,MAAO,KAChBC,SAAU,SAACC,EAAOjD,GAEbA,GAEHM,EAAcN,GACdQ,EAAe,QAGfF,EAAc,MACdE,EAAe,QAGjB0C,YAAa,SAAAC,GAAM,OAClB,cAACC,EAAA,EAAD,2BACKD,GADL,IAEClD,MAAM,YACNoD,QAAQ,WACRC,WAAS,QAKb,uBACC7C,GACA,cAACgC,EAAA,EAAD,CACCC,GAAG,mBACHC,QAAS9B,EACT+B,eAAgB,SAAAC,GAAM,OAAIA,GAC1B7C,MAAOO,EACPuC,MAAO,CAAEC,MAAO,KAChBC,SAAU,SAACC,EAAOjD,GAIhBQ,EAFGR,GAKY,OAGjBkD,YAAa,SAAAC,GAAM,OAClB,cAACC,EAAA,EAAD,2BACKD,GADL,IAEClD,MAAM,YACNoD,QAAQ,WACRC,WAAS,QAKb,uBACA,gCACEjD,EADF,IACeE,QCjOlBgD,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAACtD,EAAD,MAEDuD,SAASC,eAAe,U","file":"static/js/main.cd8eb6b5.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\nimport ReactDOM from 'react-dom'\nimport { Select } from 'react-select-virtualized'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport * as EuroJSONstat from 'jsonstat-euro'\n\nconst fetchURL =\n\t'https://raw.githubusercontent.com/vizbyarcher/statsviz/gh-pages/data/es/euro_index.json'\nconst getItems = () => fetch(fetchURL).then(res => res.json())\n\nconst query = {\n\tlang: 'en',\n\tdataset: 'tec00001',\n\tfilter: {\n\t\tna_item: ['B1GQ'],\n\t\tunit: ['CP_EUR_HAB'],\n\t\ttime: [\n\t\t\t'2008',\n\t\t\t'2009',\n\t\t\t'2010',\n\t\t\t'2011',\n\t\t\t'2012',\n\t\t\t'2013',\n\t\t\t'2014',\n\t\t\t'2015',\n\t\t\t'2016',\n\t\t\t'2017',\n\t\t\t'2018',\n\t\t],\n\t\tgeo: [\n\t\t\t'AT',\n\t\t\t'BE',\n\t\t\t'BG',\n\t\t\t'CY',\n\t\t\t'CZ',\n\t\t\t'DE',\n\t\t\t'DK',\n\t\t\t'EE',\n\t\t\t'EL',\n\t\t\t'ES',\n\t\t\t'FI',\n\t\t\t'FR',\n\t\t\t'HR',\n\t\t\t'HU',\n\t\t\t'IE',\n\t\t\t'IT',\n\t\t\t'LT',\n\t\t\t'LU',\n\t\t\t'LV',\n\t\t\t'MT',\n\t\t\t'NL',\n\t\t\t'PL',\n\t\t\t'PT',\n\t\t\t'RO',\n\t\t\t'SE',\n\t\t\t'SI',\n\t\t\t'SK',\n\t\t\t'UK',\n\t\t\t'EU28',\n\t\t],\n\t},\n}\n\nconst json = [\n\t{ value: 1, label: 'John', cat: 'white' },\n\t{ value: 2, label: 'Paul', cat: 'white' },\n\t{ value: 5, label: 'Johnson', cat: 'white' },\n\t{ value: 7, label: 'Paulson', cat: 'black' },\n\t{ value: 9, label: 'Patrick', cat: 'black' },\n]\n\nconst propertyFirst = 'cat'\nconst propertySecond = 'label'\n\nconst changeFirst = data => {\n\tif (data) {\n\t\t// console.log(data)\n\t\tconst unique = [\n\t\t\t...new Set(\n\t\t\t\tdata\n\t\t\t\t\t.sort((a, b) => b[propertyFirst] - a[propertyFirst])\n\t\t\t\t\t.map(item => item[propertyFirst])\n\t\t\t),\n\t\t]\n\t\t// console.log(unique)\n\t\treturn unique.sort()\n\t} else {\n\t\t// console.log('No data for First combo...')\n\t\treturn []\n\t}\n}\n\nconst changeSecond = (data, valueFirst) => {\n\tif (valueFirst) {\n\t\t// console.log('Changing Second combo...')\n\t\tconst filteredFirst = data.filter(\n\t\t\titem => item[propertyFirst] === valueFirst\n\t\t)\n\t\tconst unique = [...new Set(filteredFirst.map(item => item[propertySecond]))]\n\t\t// console.log(unique)\n\t\treturn unique.sort()\n\t} else {\n\t\tconst unique = [...new Set(data.map(item => item[propertySecond]))]\n\t\t// console.log(unique)\n\t\treturn unique.sort()\n\t}\n}\n\nexport default function App() {\n\tconst [valueFirst, setValueFirst] = useState(null)\n\tconst [valueSecond, setValueSecond] = useState(null)\n\tconst [items, setItems] = useState([])\n\tconst [jstat, setJstat] = useState([])\n\tconst [itemsFirst, setItemsFirst] = useState([])\n\tconst [itemsSecond, setItemsSecond] = useState([])\n\n\tuseEffect(() => {\n\t\tEuroJSONstat.fetchDataset('une_rt_a').then(ds => {\n\t\t\tconst statusId = ds.Data({\n\t\t\t\t\tgeo: 'AT',\n\t\t\t\t\ttime: '1983',\n\t\t\t\t\tsex: 'T',\n\t\t\t\t\tage: 'TOTAL',\n\t\t\t\t\tunit: 'PC_ACT',\n\t\t\t\t}).status,\n\t\t\t\tstatusLabel = EuroJSONstat.getStatusLabel(ds, statusId)\n\t\t\tconsole.log(`\"${statusId}\" = \"${statusLabel}\"`)\n\t\t})\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (json) {\n\t\t\tsetItems(json)\n\t\t\t// console.log('items:', json)\n\t\t} else {\n\t\t\t// console.log('No data for items')\n\t\t}\n\t}, [])\n\n\tuseEffect(() => {\n\t\tif (items) {\n\t\t\tsetItemsFirst(changeFirst(items))\n\t\t\t// console.log('items first:', changeFirst(items))\n\t\t} else {\n\t\t\tconsole.log('No data for itemsFirst')\n\t\t}\n\t}, [items])\n\n\tuseEffect(() => {\n\t\tif (items) {\n\t\t\tsetItemsSecond(changeSecond(items, valueFirst))\n\t\t} else {\n\t\t\tsetItemsSecond([])\n\t\t}\n\t}, [items, valueFirst])\n\n\tlet filtered = items\n\n\tif (valueSecond) {\n\t\tfiltered = items\n\t\t\t.filter(item => item[propertyFirst] === valueFirst)\n\t\t\t.filter(item => item[propertySecond] === valueSecond)\n\t} else if (valueFirst) {\n\t\tfiltered = items.filter(item => item[propertyFirst] === valueFirst)\n\t}\n\n\treturn (\n\t\t<div className='App'>\n\t\t\t<h1>React Select</h1>\n\t\t\t{/* <Select options={itemsFirst} /> */}\n\t\t\t{items && (\n\t\t\t\t<Autocomplete\n\t\t\t\t\tid='combo-box-first'\n\t\t\t\t\toptions={itemsFirst}\n\t\t\t\t\tgetOptionLabel={option => option}\n\t\t\t\t\tvalue={valueFirst}\n\t\t\t\t\tstyle={{ width: 380 }}\n\t\t\t\t\tonChange={(event, value) => {\n\t\t\t\t\t\t// console.log(`first: ${value}`)\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t// console.log('changing first value', value)\n\t\t\t\t\t\t\tsetValueFirst(value)\n\t\t\t\t\t\t\tsetValueSecond(null)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// console.log('no first value...')\n\t\t\t\t\t\t\tsetValueFirst(null)\n\t\t\t\t\t\t\tsetValueSecond(null)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\tlabel='Filter 1:'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<br></br>\n\t\t\t{items && (\n\t\t\t\t<Autocomplete\n\t\t\t\t\tid='combo-box-second'\n\t\t\t\t\toptions={itemsSecond}\n\t\t\t\t\tgetOptionLabel={option => option}\n\t\t\t\t\tvalue={valueSecond}\n\t\t\t\t\tstyle={{ width: 380 }}\n\t\t\t\t\tonChange={(event, value) => {\n\t\t\t\t\t\t// console.log(`second: ${value}`)\n\t\t\t\t\t\tif (value) {\n\t\t\t\t\t\t\t// console.log('changing second value', value)\n\t\t\t\t\t\t\tsetValueSecond(value)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// console.log('no second value...')\n\t\t\t\t\t\t\tsetValueSecond(null)\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\tlabel='Filter 2:'\n\t\t\t\t\t\t\tvariant='outlined'\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t/>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<br></br>\n\t\t\t<div>\n\t\t\t\t{valueFirst} {valueSecond}\n\t\t\t</div>\n\t\t</div>\n\t)\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}